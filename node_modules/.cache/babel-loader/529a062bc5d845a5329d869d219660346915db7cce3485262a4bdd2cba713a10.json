{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/anish/OneDrive/Desktop/scratch/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/anish/OneDrive/Desktop/scratch/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/anish/OneDrive/Desktop/scratch/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,lazy,Suspense,useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route}from\"react-router-dom\";import Headers from\"./componetns/layout/headers\";import{ProductProvider}from\"./componetns/layout/home/componetns/layout/Products/productContext\";import Footer from\"./componetns/layout/footer/footer\";import ShoppingCart from\"./cart/cart\";import LoginForm from\"./componetns/layout/authentication/login\";// import User from \"./user/user\";\nimport UserDetail from\"./componetns/layout/authentication/userDtail\";import CheckoutPage from\"./cheheckout/checkout\";import StripeForm from\"./cheheckout/stripe\";import axios from\"axios\";import SuccessPage from\"./paymentSuccess/Success\";import PaymentForm from\"./cheheckout/stripe\";import ProfilePage from\"./profile/user\";import Loader from\"./Loder/loder\";import ForgetPassword from\"./componetns/layout/authentication/forget\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/lazy(function(){return import(\"./componetns/layout/home/home\");});var SingleProduct=/*#__PURE__*/lazy(function(){return import(\"./componetns/layout/home/componetns/layout/singleProduct\");});var Cate=/*#__PURE__*/lazy(function(){return import(\"./componetns/layout/category/cate\");});var Contact=/*#__PURE__*/lazy(function(){return import(\"./componetns/about/contact\");});var LongProduct=/*#__PURE__*/lazy(function(){return import(\"./productss/product\");});var RegisterForm=/*#__PURE__*/lazy(function(){return import(\"./componetns/layout/authentication/register\");});var About=/*#__PURE__*/lazy(function(){return import(\"./componetns/about/about\");});function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];useEffect(function(){var storedDataExists=localStorage.length>2;if(storedDataExists){setTimeout(function(){setLoading(false);localStorage.clear();// Clear all data in localStorage after 10 seconds\nwindow.location.href=\"/login\";// Redirect to login page\n},30*60*1000);// 10 seconds in milliseconds\n}else{setLoading(false);}},[]);setTimeout(function(){setLoading(false);},3000);var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cartItems=_useState4[0],setCartItems=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),stripeApiKey=_useState6[0],setStripeApiKey=_useState6[1];function getStripeKey(){return _getStripeKey.apply(this,arguments);}function _getStripeKey(){_getStripeKey=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://dosomethingbackend-anish-stack.vercel.app/stripeapikey\");case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setStripeApiKey(data.stripeApiKey);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching Stripe API key:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return _getStripeKey.apply(this,arguments);}useEffect(function(){getStripeKey();},[]);// Return loading state if API key is not fetched\nif(!stripeApiKey){return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",loading&&/*#__PURE__*/_jsx(Loader,{})]});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(ProductProvider,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Headers,{}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsxs(\"div\",{children:[\" \",loading&&/*#__PURE__*/_jsx(Loader,{})]}),children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:productId\",element:/*#__PURE__*/_jsx(SingleProduct,{cartItems:cartItems,setCartItems:setCartItems})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(ShoppingCart,{cartItems:cartItems,setCartItems:setCartItems})}),/*#__PURE__*/_jsx(Route,{path:\"/Category\",element:/*#__PURE__*/_jsx(Cate,{})}),/*#__PURE__*/_jsx(Route,{path:\"/Contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/LongProduct\",element:/*#__PURE__*/_jsx(LongProduct,{})}),/*#__PURE__*/_jsx(Route,{path:\"/About\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/detail\",element:/*#__PURE__*/_jsx(UserDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(CheckoutPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"/StripeForm\",element:/*#__PURE__*/_jsx(StripeForm,{stripeApiKey:stripeApiKey})}),/*#__PURE__*/_jsx(Route,{path:\"/stripe-payment-page\",Component:PaymentForm}),/*#__PURE__*/_jsx(Route,{path:\"/Success\",element:/*#__PURE__*/_jsx(SuccessPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgetpassword\",element:/*#__PURE__*/_jsx(ForgetPassword,{})})]})}),/*#__PURE__*/_jsx(Footer,{})]})})});}export default App;","map":{"version":3,"names":["React","useState","lazy","Suspense","useEffect","BrowserRouter","Router","Routes","Route","Headers","ProductProvider","Footer","ShoppingCart","LoginForm","UserDetail","CheckoutPage","StripeForm","axios","SuccessPage","PaymentForm","ProfilePage","Loader","ForgetPassword","jsx","_jsx","jsxs","_jsxs","Home","SingleProduct","Cate","Contact","LongProduct","RegisterForm","About","App","_useState","_useState2","_slicedToArray","loading","setLoading","storedDataExists","localStorage","length","setTimeout","clear","window","location","href","_useState3","_useState4","cartItems","setCartItems","_useState5","_useState6","stripeApiKey","setStripeApiKey","getStripeKey","_getStripeKey","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","sent","t0","console","error","stop","children","fallback","path","element","Component"],"sources":["C:/Users/anish/OneDrive/Desktop/scratch/frontend/src/App.js"],"sourcesContent":["import React, { useState, lazy, Suspense, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, } from \"react-router-dom\";\nimport Headers from \"./componetns/layout/headers\";\nimport { ProductProvider } from \"./componetns/layout/home/componetns/layout/Products/productContext\";\nimport Footer from \"./componetns/layout/footer/footer\";\nimport ShoppingCart from \"./cart/cart\";\nimport LoginForm from \"./componetns/layout/authentication/login\";\n// import User from \"./user/user\";\nimport UserDetail from \"./componetns/layout/authentication/userDtail\";\nimport CheckoutPage from \"./cheheckout/checkout\";\nimport StripeForm from \"./cheheckout/stripe\";\nimport axios from \"axios\";\nimport SuccessPage from \"./paymentSuccess/Success\";\nimport PaymentForm from \"./cheheckout/stripe\";\nimport ProfilePage from \"./profile/user\";\nimport Loader from \"./Loder/loder\";\nimport ForgetPassword from \"./componetns/layout/authentication/forget\";\n\nconst Home = lazy(() => import(\"./componetns/layout/home/home\"));\nconst SingleProduct = lazy(() =>\n  import(\"./componetns/layout/home/componetns/layout/singleProduct\")\n);\nconst Cate = lazy(() => import(\"./componetns/layout/category/cate\"));\nconst Contact = lazy(() => import(\"./componetns/about/contact\"));\nconst LongProduct = lazy(() => import(\"./productss/product\"));\nconst RegisterForm = lazy(() =>\n  import(\"./componetns/layout/authentication/register\")\n);\nconst About = lazy(() => import(\"./componetns/about/about\"));\n\nfunction App() {\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const storedDataExists = localStorage.length > 2;\n\n    if (storedDataExists) {\n      setTimeout(() => {\n        setLoading(false);\n        localStorage.clear(); // Clear all data in localStorage after 10 seconds\n        window.location.href = \"/login\"; // Redirect to login page\n      },  30 * 60 * 1000); // 10 seconds in milliseconds\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n\n\n\n\n  setTimeout(() => {\n    setLoading(false);\n  }, 3000);\n  const [cartItems, setCartItems] = useState([]);\n  const [stripeApiKey, setStripeApiKey] = useState(null);\n\n  async function getStripeKey() {\n    try {\n      const { data } = await axios.get(\n        \"https://dosomethingbackend-anish-stack.vercel.app/stripeapikey\"\n      );\n      setStripeApiKey(data.stripeApiKey);\n    } catch (error) {\n      console.error(\"Error fetching Stripe API key:\", error);\n    }\n  }\n\n  useEffect(() => {\n    getStripeKey();\n  }, []);\n\n  // Return loading state if API key is not fetched\n  if (!stripeApiKey) {\n    return <div> {loading && <Loader />}</div>;\n  }\n\n  return (\n    <Router>\n      <ProductProvider>\n        <div>\n          <Headers />\n          <Suspense fallback={<div> {loading && <Loader />}</div>}>\n            <Routes>\n              <Route path=\"/\" element={<Home />} />\n              <Route\n                path=\"/product/:productId\"\n                element={\n                  <SingleProduct\n                    cartItems={cartItems}\n                    setCartItems={setCartItems}\n                  />\n                }\n              />\n              <Route\n                path=\"/cart\"\n                element={\n                  <ShoppingCart\n                    cartItems={cartItems}\n                    setCartItems={setCartItems}\n                  />\n                }\n              />\n              <Route path=\"/Category\" element={<Cate />} />\n              <Route path=\"/Contact\" element={<Contact />} />\n              <Route path=\"/LongProduct\" element={<LongProduct />} />\n\n              <Route path=\"/About\" element={<About />} />\n              {/* <Route path=\"/userInfo\" element={<User />} /> */}\n              <Route path=\"/detail\" element={<UserDetail />}></Route>\n              <Route path=\"/checkout\" element={<CheckoutPage />}></Route>\n\n              <Route path=\"/login\" element={<LoginForm />} />\n              <Route path=\"/register\" element={<RegisterForm />} />\n              <Route\n                path=\"/StripeForm\"\n                element={<StripeForm stripeApiKey={stripeApiKey} />}\n              />\n              <Route path=\"/stripe-payment-page\" Component={PaymentForm} />\n\n              <Route path=\"/Success\" element={<SuccessPage />} />\n              <Route path=\"/profile\" element={<ProfilePage />} />\n              <Route path=\"/forgetpassword\" element={<ForgetPassword />} />\n    \n\n            </Routes>\n          </Suspense>\n          <Footer />\n        </div>\n      </ProductProvider>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"kaAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClE,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,KAAS,kBAAkB,CAC1E,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,OAASC,eAAe,KAAQ,oEAAoE,CACpG,MAAO,CAAAC,MAAM,KAAM,mCAAmC,CACtD,MAAO,CAAAC,YAAY,KAAM,aAAa,CACtC,MAAO,CAAAC,SAAS,KAAM,0CAA0C,CAChE;AACA,MAAO,CAAAC,UAAU,KAAM,8CAA8C,CACrE,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAChD,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,0BAA0B,CAClD,MAAO,CAAAC,WAAW,KAAM,qBAAqB,CAC7C,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,MAAM,KAAM,eAAe,CAClC,MAAO,CAAAC,cAAc,KAAM,2CAA2C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,GAAM,CAAAC,IAAI,cAAGzB,IAAI,CAAC,iBAAM,OAAM,CAAC,+BAA+B,CAAC,GAAC,CAChE,GAAM,CAAA0B,aAAa,cAAG1B,IAAI,CAAC,iBACzB,OAAM,CAAC,0DAA0D,CAAC,EACpE,CAAC,CACD,GAAM,CAAA2B,IAAI,cAAG3B,IAAI,CAAC,iBAAM,OAAM,CAAC,mCAAmC,CAAC,GAAC,CACpE,GAAM,CAAA4B,OAAO,cAAG5B,IAAI,CAAC,iBAAM,OAAM,CAAC,4BAA4B,CAAC,GAAC,CAChE,GAAM,CAAA6B,WAAW,cAAG7B,IAAI,CAAC,iBAAM,OAAM,CAAC,qBAAqB,CAAC,GAAC,CAC7D,GAAM,CAAA8B,YAAY,cAAG9B,IAAI,CAAC,iBACxB,OAAM,CAAC,6CAA6C,CAAC,EACvD,CAAC,CACD,GAAM,CAAA+B,KAAK,cAAG/B,IAAI,CAAC,iBAAM,OAAM,CAAC,0BAA0B,CAAC,GAAC,CAE5D,QAAS,CAAAgC,GAAGA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA8BlC,QAAQ,CAAC,IAAI,CAAC,CAAAmC,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAE1BhC,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoC,gBAAgB,CAAGC,YAAY,CAACC,MAAM,CAAG,CAAC,CAEhD,GAAIF,gBAAgB,CAAE,CACpBG,UAAU,CAAC,UAAM,CACfJ,UAAU,CAAC,KAAK,CAAC,CACjBE,YAAY,CAACG,KAAK,CAAC,CAAC,CAAE;AACtBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CAAE;AACnC,CAAC,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAAE;AACvB,CAAC,IAAM,CACLR,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAE,EAAE,CAAC,CAMNI,UAAU,CAAC,UAAM,CACfJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACR,IAAAS,UAAA,CAAkC/C,QAAQ,CAAC,EAAE,CAAC,CAAAgD,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAAvCE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,IAAAG,UAAA,CAAwCnD,QAAQ,CAAC,IAAI,CAAC,CAAAoD,UAAA,CAAAhB,cAAA,CAAAe,UAAA,IAA/CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAAmB,QAExC,CAAAG,YAAYA,CAAA,SAAAC,aAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,cAAA,EAAAA,aAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAC,QAAA,MAAAC,gBAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE2B,CAAArD,KAAK,CAACsD,GAAG,CAC9B,gEACF,CAAC,QAAAP,gBAAA,CAAAI,QAAA,CAAAI,IAAA,CAFOP,IAAI,CAAAD,gBAAA,CAAJC,IAAI,CAGZV,eAAe,CAACU,IAAI,CAACX,YAAY,CAAC,CAACc,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAEnCM,OAAO,CAACC,KAAK,CAAC,gCAAgC,CAAAP,QAAA,CAAAK,EAAO,CAAC,CAAC,yBAAAL,QAAA,CAAAQ,IAAA,MAAAb,OAAA,gBAE1D,UAAAN,aAAA,CAAAC,KAAA,MAAAC,SAAA,GAEDvD,SAAS,CAAC,UAAM,CACdoD,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAI,CAACF,YAAY,CAAE,CACjB,mBAAO5B,KAAA,QAAAmD,QAAA,EAAK,GAAC,CAACvC,OAAO,eAAId,IAAA,CAACH,MAAM,GAAE,CAAC,EAAM,CAAC,CAC5C,CAEA,mBACEG,IAAA,CAAClB,MAAM,EAAAuE,QAAA,cACLrD,IAAA,CAACd,eAAe,EAAAmE,QAAA,cACdnD,KAAA,QAAAmD,QAAA,eACErD,IAAA,CAACf,OAAO,GAAE,CAAC,cACXe,IAAA,CAACrB,QAAQ,EAAC2E,QAAQ,cAAEpD,KAAA,QAAAmD,QAAA,EAAK,GAAC,CAACvC,OAAO,eAAId,IAAA,CAACH,MAAM,GAAE,CAAC,EAAM,CAAE,CAAAwD,QAAA,cACtDnD,KAAA,CAACnB,MAAM,EAAAsE,QAAA,eACLrD,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,GAAG,CAACC,OAAO,cAAExD,IAAA,CAACG,IAAI,GAAE,CAAE,CAAE,CAAC,cACrCH,IAAA,CAAChB,KAAK,EACJuE,IAAI,CAAC,qBAAqB,CAC1BC,OAAO,cACLxD,IAAA,CAACI,aAAa,EACZsB,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,CAC5B,CACF,CACF,CAAC,cACF3B,IAAA,CAAChB,KAAK,EACJuE,IAAI,CAAC,OAAO,CACZC,OAAO,cACLxD,IAAA,CAACZ,YAAY,EACXsC,SAAS,CAAEA,SAAU,CACrBC,YAAY,CAAEA,YAAa,CAC5B,CACF,CACF,CAAC,cACF3B,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,WAAW,CAACC,OAAO,cAAExD,IAAA,CAACK,IAAI,GAAE,CAAE,CAAE,CAAC,cAC7CL,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,UAAU,CAACC,OAAO,cAAExD,IAAA,CAACM,OAAO,GAAE,CAAE,CAAE,CAAC,cAC/CN,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,cAAc,CAACC,OAAO,cAAExD,IAAA,CAACO,WAAW,GAAE,CAAE,CAAE,CAAC,cAEvDP,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAExD,IAAA,CAACS,KAAK,GAAE,CAAE,CAAE,CAAC,cAE3CT,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,SAAS,CAACC,OAAO,cAAExD,IAAA,CAACV,UAAU,GAAE,CAAE,CAAQ,CAAC,cACvDU,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,WAAW,CAACC,OAAO,cAAExD,IAAA,CAACT,YAAY,GAAE,CAAE,CAAQ,CAAC,cAE3DS,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAExD,IAAA,CAACX,SAAS,GAAE,CAAE,CAAE,CAAC,cAC/CW,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,WAAW,CAACC,OAAO,cAAExD,IAAA,CAACQ,YAAY,GAAE,CAAE,CAAE,CAAC,cACrDR,IAAA,CAAChB,KAAK,EACJuE,IAAI,CAAC,aAAa,CAClBC,OAAO,cAAExD,IAAA,CAACR,UAAU,EAACsC,YAAY,CAAEA,YAAa,CAAE,CAAE,CACrD,CAAC,cACF9B,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,sBAAsB,CAACE,SAAS,CAAE9D,WAAY,CAAE,CAAC,cAE7DK,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,UAAU,CAACC,OAAO,cAAExD,IAAA,CAACN,WAAW,GAAE,CAAE,CAAE,CAAC,cACnDM,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,UAAU,CAACC,OAAO,cAAExD,IAAA,CAACJ,WAAW,GAAE,CAAE,CAAE,CAAC,cACnDI,IAAA,CAAChB,KAAK,EAACuE,IAAI,CAAC,iBAAiB,CAACC,OAAO,cAAExD,IAAA,CAACF,cAAc,GAAE,CAAE,CAAE,CAAC,EAGvD,CAAC,CACD,CAAC,cACXE,IAAA,CAACb,MAAM,GAAE,CAAC,EACP,CAAC,CACS,CAAC,CACZ,CAAC,CAEb,CAEA,cAAe,CAAAuB,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}