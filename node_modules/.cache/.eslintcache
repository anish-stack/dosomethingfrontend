[{"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\index.js":"1","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\App.js":"2","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\store.js":"3","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\cartReducer.js":"4","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\reducer\\productreducer.js":"5","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\authReduc.js":"6","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cart\\cart.jsx":"7","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cheheckout\\checkout.jsx":"8","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cheheckout\\stripe.jsx":"9","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\paymentSuccess\\Success.jsx":"10","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\Loder\\loder.jsx":"11","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\profile\\user.jsx":"12","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\productss\\product.jsx":"13","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\headers.jsx":"14","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\about\\about.jsx":"15","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\about\\contact.jsx":"16","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\userDtail.jsx":"17","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\login.jsx":"18","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\forget.jsx":"19","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\footer\\footer.jsx":"20","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\register.jsx":"21","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\category\\cate.jsx":"22","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\home.jsx":"23","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\singleProduct.jsx":"24","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Products\\productContext.jsx":"25","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\action.js":"26","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\constants\\productConstants.js":"27","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Metadata.jsx":"28","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\newArival.jsx":"29","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\newsLetter\\newsLetter.jsx":"30","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\acttion\\addnews.jsx":"31","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Products\\Product.jsx":"32"},{"size":848,"mtime":1693224683422,"results":"33","hashOfConfig":"34"},{"size":4516,"mtime":1693736812436,"results":"35","hashOfConfig":"34"},{"size":1090,"mtime":1693545792614,"results":"36","hashOfConfig":"34"},{"size":433,"mtime":1693545697796,"results":"37","hashOfConfig":"34"},{"size":890,"mtime":1690958484618,"results":"38","hashOfConfig":"34"},{"size":560,"mtime":1693225377889,"results":"39","hashOfConfig":"34"},{"size":2777,"mtime":1693329182414,"results":"40","hashOfConfig":"34"},{"size":5081,"mtime":1693388052832,"results":"41","hashOfConfig":"34"},{"size":10325,"mtime":1693736812519,"results":"42","hashOfConfig":"34"},{"size":913,"mtime":1691824063119,"results":"43","hashOfConfig":"34"},{"size":332,"mtime":1692171297113,"results":"44","hashOfConfig":"34"},{"size":5247,"mtime":1693736812446,"results":"45","hashOfConfig":"34"},{"size":2043,"mtime":1690995126163,"results":"46","hashOfConfig":"34"},{"size":2846,"mtime":1693544359081,"results":"47","hashOfConfig":"34"},{"size":6693,"mtime":1693309720633,"results":"48","hashOfConfig":"34"},{"size":40212,"mtime":1692171942523,"results":"49","hashOfConfig":"34"},{"size":1964,"mtime":1693736812519,"results":"50","hashOfConfig":"34"},{"size":5315,"mtime":1693736812505,"results":"51","hashOfConfig":"34"},{"size":2156,"mtime":1693736812503,"results":"52","hashOfConfig":"34"},{"size":9468,"mtime":1692172135224,"results":"53","hashOfConfig":"34"},{"size":8026,"mtime":1693736812511,"results":"54","hashOfConfig":"34"},{"size":4239,"mtime":1692172251824,"results":"55","hashOfConfig":"34"},{"size":1754,"mtime":1693412502600,"results":"56","hashOfConfig":"34"},{"size":9092,"mtime":1693736812455,"results":"57","hashOfConfig":"34"},{"size":907,"mtime":1693736812462,"results":"58","hashOfConfig":"34"},{"size":299,"mtime":1693225581455,"results":"59","hashOfConfig":"34"},{"size":216,"mtime":1691417379732,"results":"60","hashOfConfig":"34"},{"size":201,"mtime":1690957235321,"results":"61","hashOfConfig":"34"},{"size":4692,"mtime":1691059680276,"results":"62","hashOfConfig":"34"},{"size":3610,"mtime":1693413251689,"results":"63","hashOfConfig":"34"},{"size":8424,"mtime":1693284142609,"results":"64","hashOfConfig":"34"},{"size":2200,"mtime":1691569358936,"results":"65","hashOfConfig":"34"},{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1enpmi0",{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94"},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111"},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","suppressedMessages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","suppressedMessages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"127"},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"140"},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","suppressedMessages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"156","messages":"157","suppressedMessages":"158","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","suppressedMessages":"161","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"162","messages":"163","suppressedMessages":"164","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","suppressedMessages":"167","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\index.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\App.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\store.js",["168"],[],"import { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { productReducer } from \"./reducer/productreducer\";\r\nimport authReducer from \"./redux/authReduc\";\r\nimport cartReducer from \"./redux/cartReducer\";\r\nimport { configureStore } from \"@reduxjs/toolkit\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from 'redux-persist/lib/storage/session';\r\n// Combine your reducers\r\nconst rootReducer = combineReducers({\r\n  products: productReducer,\r\n  auth: authReducer,\r\n  cart: cartReducer,\r\n});\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage, // Specify the storage mechanism\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  persistedReducer, // Use persisted reducer\r\n  initialState,\r\n  composeWithDevTools(applyMiddleware(...middleware))\r\n);\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\cartReducer.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\reducer\\productreducer.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\authReduc.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cart\\cart.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cheheckout\\checkout.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\cheheckout\\stripe.jsx",["169","170","171"],[],"import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { removeFromCart, addToCart } from \"../redux/cartReducer\";\r\nimport {\r\n  CardNumberElement,\r\n  useElements,\r\n  CardCvcElement,\r\n  CardExpiryElement,\r\n  useStripe,\r\n} from \"@stripe/react-stripe-js\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Metadata from \"../componetns/layout/home/componetns/layout/Metadata\";\r\nimport \"./stipe.css\"\r\nfunction PaymentForm() {\r\n  const UserId = useSelector(state => state.auth.loginData?._id);\r\n  const Useremail = useSelector(state => state.auth.loginData?.email);\r\n  const cartItems = useSelector((state) => state.cart?.cartItems);\r\n  const dispatch = useDispatch();\r\n  \r\n  if(!UserId){\r\n    toast.error(\"please login To checkoute\")\r\n    // setTimeout(()=>{\r\n    //   window.location.href=\"/login\"\r\n    // },3000)\r\n  }\r\n\r\n  console.log(UserId)\r\n  const [loadedData, setLoadedData] = useState(null);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n  const [clientSecret, setClientSecret] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const formData = localStorage.getItem(\"checkoutData\");\r\n    if (formData) {\r\n      const parsedData = JSON.parse(formData);\r\n      setLoadedData(parsedData);\r\n\r\n      if (parsedData.formDataList) {\r\n        const itemsPrice = parsedData.formDataList.itemsPrice;\r\n        const shippingPrice = 50; // Assuming you want to add a fixed shipping price\r\n        const calculatedTotalPrice = itemsPrice + shippingPrice;\r\n        setTotalPrice(calculatedTotalPrice);\r\n      }\r\n      if (!parsedData.cartItems || parsedData.cartItems.length === 0) {\r\n        toast.error(\"No cart items found.\");\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Calculate the total price based on cart items\r\n    const itemsPrice = cartItems.reduce((total, item) => total + item.price, 0);\r\n    const shippingPrice = 50; // Assuming you want to add a fixed shipping price\r\n    const calculatedTotalPrice = itemsPrice + shippingPrice;\r\n    setTotalPrice(calculatedTotalPrice);\r\n  }, [cartItems]);\r\n\r\n  const handleAddToCart = (item) => {\r\n    // Dispatch an action to add an item to the cart\r\n    dispatch(addToCart(item));\r\n  };\r\n  useEffect(() => {\r\n    async function fetchClientSecret() {\r\n      if (token) {\r\n        const config = {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        };\r\n        try {\r\n          const response = await axios.post(\r\n            \"https://dosomethingbackend-anish-stack.vercel.app/payment/process\",\r\n            {\r\n              amount: parseFloat(totalPrice) * 100, // Convert to cents\r\n            },\r\n            config\r\n          );\r\n          setClientSecret(response.data.client_secret);\r\n        } catch (error) {\r\n          console.error(\"Error fetching client secret:\", error.message);\r\n        }\r\n      } else {\r\n        toast.error(\"Please login first For Checkout\");\r\n      }\r\n    }\r\n    fetchClientSecret();\r\n  }, [totalPrice, token]);\r\n\r\n  const handlePaymentError = (error) => {\r\n    console.error(\"Payment error:\", error);\r\n\r\n    if (error.code === \"payment_intent_authentication_failure\") {\r\n      toast.error(\"Payment failed due to authentication failure.\");\r\n    } else if (error.code === \"card_declined\") {\r\n      if (error.decline_code === \"insufficient_funds\") {\r\n        toast.error(\"Payment failed due to insufficient funds.\");\r\n      } else if (error.decline_code === \"incorrect_cvc\") {\r\n        toast.error(\"Incorrect CVV.\");\r\n      } else {\r\n        toast.error(\"Payment declined. Reason: \" + error.decline_code);\r\n      }\r\n    } else {\r\n      toast.error(\"Payment failed: \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handlePaymentSuccess = async (paymentIntent, UserId) => {\r\n    console.log(\"Payment succeeded:\", paymentIntent.id);\r\n    setPaymentSuccess(true);\r\n\r\n    const currentDate = new Date();\r\n    const formattedPaidAt = currentDate.toISOString();\r\n\r\n    if (!UserId) {\r\n      console.log(\"User ID is not available yet.\");\r\n    } else {\r\n      const paymentData = {\r\n        shippingInfo: {\r\n          address: loadedData.formDataList.address,\r\n          city: loadedData.formDataList.city,\r\n          country: loadedData.formDataList.country,\r\n          pinCode:loadedData.formDataList.pinCode,\r\n          state:loadedData.formDataList.state\r\n        },\r\n        userInfo: {  // Use lowercase keys here\r\n          userId: UserId,     // Use uppercase keys here\r\n          UserEmail: Useremail, // Use uppercase keys here\r\n        },\r\n        orderItems: loadedData.cartItems,\r\n        orderStatus: \"Processing\",\r\n        paidAt: formattedPaidAt,\r\n        totalPrice: loadedData.formDataList.totalPrice,\r\n        shippingPrice: loadedData.formDataList.shippingPrice,\r\n        taxPrice: loadedData.formDataList.taxPrice,\r\n        itemsPrice: loadedData.formDataList.itemsPrice,\r\n     \r\n        paymentInfo: {\r\n          id: paymentIntent.id,\r\n          status: paymentIntent.status,\r\n        },\r\n      };\r\n\r\n      if (!paymentData.orderItems) {\r\n        console.log(\"No order items to save.\");\r\n      } else {\r\n        await saveData(paymentData);\r\n        localStorage.removeItem(\"checkoutData\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements || !clientSecret) {\r\n      return;\r\n    }\r\n\r\n    event.target.disabled = true;\r\n    const cardElement = elements.getElement(CardNumberElement);\r\n\r\n    try {\r\n      const paymentResult = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: cardElement,\r\n          billing_details: {\r\n            email,\r\n            name,\r\n            address: {\r\n              line1: loadedData.formDataList.address,\r\n            },\r\n          },\r\n        },\r\n        setup_future_usage: \"off_session\",\r\n      });\r\n\r\n      if (paymentResult.error) {\r\n        handlePaymentError(paymentResult.error);\r\n      } else if (paymentResult.paymentIntent.status === \"succeeded\") {\r\n        handlePaymentSuccess(paymentResult.paymentIntent, UserId);\r\n      }\r\n    } catch (error) {\r\n      handlePaymentError(error);\r\n    } finally {\r\n      event.target.disabled = false;\r\n    }\r\n  };\r\n\r\n  const saveData = async (paymentData) => {\r\n    try {\r\n      const response = await axios.post(\r\n        \"https://dosomethingbackend-anish-stack.vercel.app/order/new\",\r\n        paymentData\r\n      );\r\n  \r\n      if (response.status === 201) {\r\n        console.log(\"Data is saved and sent successfully\", response);\r\n  \r\n        // Redirect here\r\n        console.log(\"Payment succeeded. Redirecting...\");\r\n        const paymentDetails = {\r\n          amount: totalPrice,\r\n          email,\r\n          name,\r\n          address: loadedData.formDataList.address,\r\n          // Add more payment details as needed\r\n        };\r\n  \r\n        const queryString = new URLSearchParams(paymentDetails).toString();\r\n        window.location.href = `/Success?${queryString}`;\r\n      } else {\r\n        console.log(\"Data was not saved successfully\", response);\r\n        // Handle the case where the data was not saved successfully\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Error\", error.message);\r\n      console.error(\"Error\", error);\r\n    }\r\n  };\r\n  \r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"payment-form-container\">\r\n      <Metadata title=\"payment-page\" />\r\n      <form onSubmit={handleSubmit} className=\"payment-form\">\r\n        <label className=\"payment-form-label\">\r\n          Email\r\n          <input\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            className=\"payment-form-input\"chrome\r\n          />\r\n        </label>\r\n        <label className=\"payment-form-label\">\r\n          Address\r\n          <input\r\n            type=\"text\"\r\n            value={loadedData?.formDataList.address || \"\"}\r\n            className=\"payment-form-input\"\r\n          />\r\n        </label>\r\n        <label className=\"payment-form-label\">\r\n          Name\r\n          <input\r\n            type=\"text\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            className=\"payment-form-input\"\r\n          />\r\n        </label>\r\n        <label className=\"payment-form-label\">\r\n          Card Number\r\n          <CardNumberElement\r\n            options={{\r\n              style: {\r\n                base: {\r\n                  fontSize: '16px',\r\n                  color: '#ffffff', // Set the text color to white\r\n                  '::placeholder': {\r\n                    color: '#A9A9A9',\r\n                  },\r\n                },\r\n              },\r\n            }}\r\n            className=\"payment-form-input stripe-input\"\r\n          />\r\n        </label>\r\n        <label className=\"payment-form-label\">\r\n          Expiration Date\r\n          <CardExpiryElement\r\n           options={{\r\n            style: {\r\n              base: {\r\n                fontSize: '16px',\r\n                color: '#ffffff', // Set the text color to white\r\n                '::placeholder': {\r\n                  color: '#A9A9A9',\r\n                },\r\n              },\r\n            },\r\n          }}\r\n            className=\"payment-form-input stripe-input\"\r\n          />\r\n        </label>\r\n        <label className=\"payment-form-label\">\r\n          CVC\r\n          <CardCvcElement\r\n            options={{\r\n              style: {\r\n                base: {\r\n                  fontSize: '16px',\r\n                  color: '#ffffff', // Set the text color to white\r\n                  '::placeholder': {\r\n                    color: '#A9A9A9',\r\n                  },\r\n                },\r\n              },\r\n            }}\r\n            className=\"payment-form-input stripe-input\"\r\n          />\r\n        </label>\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!stripe}\r\n          className=\"payment-form-button\"\r\n        >\r\n          Pay\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PaymentForm;\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\paymentSuccess\\Success.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\Loder\\loder.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\profile\\user.jsx",["172","173","174"],[],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './user.css'; // Import the CSS file\r\nimport { toast,ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { useDispatch } from 'react-redux';\r\nimport Loader from '../Loder/loder';\r\nimport { useSelector } from 'react-redux';\r\nimport { logout } from '../redux/action'; // Import your logout action\r\n\r\nfunction ProfilePage() {\r\n  const dispatch = useDispatch();\r\n  const [userInfo, setUserInfo] = useState({});\r\n  const Token = useSelector(state => state.auth.token);\r\n  console.log(\"token\",Token)\r\n  const UserId = useSelector(state => state.auth.loginData);\r\n\r\n  console.log(UserId);\r\n\r\n  console.log(Token);\r\n\r\n    const [ orders,setOrders] = useState([])\r\n    const [loading, setLoading] = useState(true);\r\n    useEffect(() => {\r\n      \r\n        async function fetchData() {\r\n          \r\n          if (!Token) {\r\n            toast.error('Please log in to view your profile.');\r\n            window.location.href=\"/login\"\r\n            return;\r\n          }\r\n          setTimeout(() => {\r\n            setLoading(false);\r\n          }, 3000);\r\n          const config = {\r\n            headers: {\r\n              Authorization: `Bearer ${Token}`,\r\n            },\r\n            \r\n          };\r\n          \r\n          try {\r\n            const userIdString = UserId._id;\r\n            console.log(\"userid\",userIdString); // This should now log the actual user ID\r\n            \r\n            const response = await axios.get(`https://dosomethingbackend-anish-stack.vercel.app/user/id/${userIdString}`);\r\n            console.log(\"user-information\", response.data.data); // Log the user data\r\n            setUserInfo(response.data.data);\r\n          } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n          }\r\n        }\r\n      \r\n        fetchData();\r\n      }, []);\r\n      useEffect(() => {\r\n        if (userInfo.email) {\r\n          const email = userInfo.email;\r\n          fetchOrderByEmail(email);\r\n        } else {\r\n          console.error('Contact number not available in userInfo:', userInfo);\r\n        }\r\n      }, [userInfo.email]);\r\n      \r\n      const fetchOrderByEmail = async (email) => {\r\n        try {\r\n          const response = await axios.get(`https://dosomethingbackend-anish-stack.vercel.app/meOrder/${email}`);      \r\n          console.log(response)\r\n          if (response.data.success) {\r\n            if (response.data.numberOfOrders === 0) {\r\n              console.log('No orders found for the provided contact number.');\r\n            } else {\r\n              const orders = response.data.orders;\r\n              console.log(orders)\r\n              setOrders(orders);\r\n            }\r\n          } else {\r\n            console.log('Error fetching orders:', response.data.message);\r\n            // toast.error('Error fetching orders:', response.data.message);\r\n          }\r\n        } catch (error) {\r\n          // console.error('Error fetching orders by contact number:', error);\r\n          // toast.error('Error fetching orders by contact number:', error);\r\n        }\r\n      };\r\n    \r\n      // Destructuring user info properties\r\n      const {\r\n        name,\r\n        email,\r\n        dateOfJoin,\r\n        contactNumber,\r\n      } = userInfo;\r\n      const handleLogout = () => {\r\n        // Dispatch the logout action to clear user data\r\n        dispatch(logout());\r\n    \r\n        // Redirect to the login page after logout\r\n        window.location.href = '/login'; // Replace with your login page URL\r\n      };\r\n  return (\r\n    <div className=\"container\">\r\n       {loading && <Loader />}\r\n      <div className=\"profile-header\">\r\n        <h1>Your Profile</h1>\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        <h2>User Information</h2>\r\n        <p>Name: {name}</p>\r\n        <p>Email: {email}</p>\r\n        <p>Contact Number: {contactNumber}</p>\r\n        <p>Date of Joining: {new Date(dateOfJoin).toLocaleDateString()}</p>\r\n      </div>\r\n      <div className='tableorder'>\r\n      <h2>Your Orders</h2>\r\n        <button onClick={fetchOrderByEmail}>Load Orders</button>\r\n        <table className=\"orders-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Order Date</th>\r\n              <th>Item Name</th>\r\n              <th>Items Price</th>\r\n              <th>Shipping Price</th>\r\n              <th>Total Price</th>\r\n              <th>Status</th>\r\n              <th>cancel</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {orders.map(order => (\r\n              <tr key={order._id}>\r\n                <td>{new Date(order.createdAt).toLocaleDateString()}</td>\r\n                <td>{order.orderItems[0].name}</td> {/* Display the first item's name */}\r\n                <td>Rs{order.itemsPrice}</td>\r\n                <td>Rs{order.shippingPrice}</td>\r\n                <td>Rs{order.totalPrice}</td>\r\n                <td>{order.orderStatus}</td>\r\n                <td><button className='cancel' type=\"reset\">Cancel</button></td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <button onClick={handleLogout}>Logout</button>\r\n\r\n      </div>\r\n      <ToastContainer/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\productss\\product.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\headers.jsx",["175","176"],[],"import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport menu from \"./menu.png\"\r\nimport close from \"./close.png\"\r\nimport cart from  \"./shopping-cart.png\"\r\nimport user from \"./user.png\"\r\nimport './navbar.css';\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default function Navbar() {\r\n  const [userAvatar, setUserAvatar] = useState('');\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n  const token = useSelector((state) => state.auth.token);\r\n\r\n  const handleMobileMenuToggle = () => {\r\n      setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const avatar = localStorage.getItem('avatar');\r\n\r\n    if (avatar) {\r\n      setUserAvatar(avatar);\r\n    }\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    if (token) {\r\n      \r\n      window.location.href=\"/login\"; // Use push() to navigate within React Router\r\n\r\n    } else {\r\n        // Token is not present, show message and redirect\r\n        toast.error('Please login first.');\r\n        setTimeout(()=>{\r\n          window.location.href=\"/login\"; // Redirect to login page\r\n\r\n        },3000)\r\n    }\r\n};\r\n\r\n\r\n  const defaultAvatarSvg = user\r\n\r\n\r\n  return (\r\n    <>\r\n    <header>\r\n    <h3 className=\"logo\">DOSOMETHINGS <sub>.in</sub></h3>\r\n    <nav  className={isMobileMenuOpen ? 'show' : ''}>\r\n        <ul className='navitems'>\r\n            <li><Link to=\"/\">home</Link></li>\r\n            <li><Link to=\"/LongProduct\">product</Link></li>\r\n            <li><Link to=\"/Category\">Category</Link></li>\r\n            <li><Link to=\"/About\">about</Link></li>\r\n            <li><Link to=\"/Contact\">contact</Link></li>\r\n            <li className='btn'><Link to=\"/register\">Register</Link></li>\r\n\r\n            <li><Link to=\"/cart\"><img src={cart} width=\"30px\" alt=\"\" /></Link></li>\r\n            <li className=\"imguser\">\r\n                <Link to=\"#\">\r\n                  <div className='user-trigger'>\r\n                    \r\n                  </div>\r\n                    <img src={user} width=\"30px\" alt=\"\" />\r\n                    <ul className=\"user\">\r\n                        <li><Link to=\"/profile\"> Profile </Link></li>\r\n                        <li><Link to=\"/login\"> Login </Link></li>\r\n                        <li  onClick={handleLogout}> <Link to=\"/login\" >SignOut</Link></li>\r\n                    </ul>\r\n                </Link>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n    <ul className=\"mobile-icons\">\r\n        <li onClick={handleMobileMenuToggle}><Link to=\"#\"><img src={menu} width=\"40px\" alt=\"\" /></Link></li>\r\n        <li onClick={handleMobileMenuToggle}><Link to=\"#\"><img className=\"close\" src={close} width=\"40px\" alt=\"\" /></Link></li>\r\n    </ul>\r\n</header>\r\n\r\n<ToastContainer/>\r\n</>\r\n  );\r\n}\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\about\\about.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\about\\contact.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\userDtail.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\login.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\forget.jsx",["177","178","179","180","181"],[],"import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nimport { IoEye, IoEyeOff } from 'react-icons/io5'; // Import icons\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './ForgetPassword.css';\r\n\r\nfunction ForgetPassword() {\r\n  const [email, setEmail] = useState('');\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [showPassword, setShowPassword] = useState(false); // State for showing/hiding password\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const response = await axios.post('https://dosomethingbackend-anish-stack.vercel.app/user/change/password', {\r\n        email,\r\n        newPassword,\r\n      });\r\n\r\n      setMessage(response.data.message);\r\n      toast.success(response.data.message);\r\n      setTimeout(() => {\r\n        window.location.href = '/login'; \r\n      }, 2000);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMessage('An error occurred');\r\n      toast.error('An error occurred');\r\n    }\r\n  };\r\n\r\n  const togglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  return (\r\n    <div className=\"forget-container\">\r\n      <div className=\"form-column\">\r\n        <h1 className=\"form-title\">Change Password</h1>\r\n        <div className=\"input-group\">\r\n          <span className=\"icon\">✉️</span>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n        </div>\r\n       \r\n        <button className=\"submit-button\" type=\"submit\" onClick={handleSubmit}>\r\n          Change Password\r\n        </button>\r\n      </div>\r\n      <div className=\"image-column\">\r\n        <img src=\"https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1095.jpg?t=st=1693144526~exp=1693145126~hmac=27fc774552be5930e98251c4b0e2858eefc157c44591cfff0dad743cf938cd93\" alt=\"Password Reset\" />\r\n      </div>\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgetPassword;\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\footer\\footer.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\authentication\\register.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\category\\cate.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\home.jsx",["182"],[],"import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Products from \"./componetns/layout/Products/Product.jsx\";\r\nimport \"../../../App.css\";\r\nimport \"./slides.css\"\r\nimport Slider from 'react-slick';\r\nimport 'slick-carousel/slick/slick.css';\r\nimport 'slick-carousel/slick/slick-theme.css';\r\nimport Metadata  from \"./componetns/layout/Metadata.jsx\";\r\nimport NewArival from \"./componetns/layout/newArival.jsx\";\r\nimport Example from \"../../../newsLetter/newsLetter.jsx\";\r\nimport OfferPage from \"../../../acttion/addnews.jsx\";\r\nimport image1 from './1.jpg'\r\nimport image2 from './2.jpg'\r\nimport image3 from './3.png'\r\n\r\nconst images =[\r\n  image1,\r\n  image2,\r\n  image3\r\n]\r\n\r\nconst Home = () => {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const settings = {\r\n    dots: true,\r\n    infinite: true,\r\n    speed: 500,\r\n    autoplaySpeed: 2000, \r\n    autoplay: true, \r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    beforeChange: (oldIndex, newIndex) => {\r\n      setCurrentSlide(newIndex);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Metadata title=\"Homepage\"/>\r\n      <div className=\"slider-container\">\r\n        <Slider {...settings}>\r\n          {images.map((image, index) => (\r\n            <div key={index} className={`slide ${currentSlide === index ? 'active' : ''}`}>\r\n              <img src={image} alt={`Slide ${index}`} />\r\n            </div>\r\n          ))}\r\n        </Slider>\r\n      </div>\r\n      <strong className=\"flex justify-center text-5xl sm:text-8xl font-extrabold text-green-600\">\r\n               Featured Product\r\n              </strong>\r\n     <Products product={Products} />\r\n\r\n     <NewArival/>\r\n     <OfferPage/>\r\n\r\n     <Example/>\r\n\r\n\r\n     \r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\singleProduct.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Products\\productContext.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\redux\\action.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\constants\\productConstants.js",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Metadata.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\newArival.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\newsLetter\\newsLetter.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\acttion\\addnews.jsx",[],[],"C:\\Users\\anish\\OneDrive\\Desktop\\scratch\\frontend\\src\\componetns\\layout\\home\\componetns\\layout\\Products\\Product.jsx",[],[],{"ruleId":"183","severity":1,"message":"184","line":7,"column":10,"nodeType":"185","messageId":"186","endLine":7,"endColumn":24},{"ruleId":"183","severity":1,"message":"187","line":3,"column":10,"nodeType":"185","messageId":"186","endLine":3,"endColumn":24},{"ruleId":"183","severity":1,"message":"188","line":37,"column":10,"nodeType":"185","messageId":"186","endLine":37,"endColumn":24},{"ruleId":"183","severity":1,"message":"189","line":68,"column":9,"nodeType":"185","messageId":"186","endLine":68,"endColumn":24},{"ruleId":"183","severity":1,"message":"190","line":36,"column":17,"nodeType":"185","messageId":"186","endLine":36,"endColumn":23},{"ruleId":"191","severity":1,"message":"192","line":56,"column":10,"nodeType":"193","endLine":56,"endColumn":12,"suggestions":"194"},{"ruleId":"191","severity":1,"message":"195","line":64,"column":10,"nodeType":"193","endLine":64,"endColumn":26,"suggestions":"196"},{"ruleId":"183","severity":1,"message":"197","line":13,"column":10,"nodeType":"185","messageId":"186","endLine":13,"endColumn":20},{"ruleId":"183","severity":1,"message":"198","line":45,"column":9,"nodeType":"185","messageId":"186","endLine":45,"endColumn":25},{"ruleId":"183","severity":1,"message":"199","line":4,"column":10,"nodeType":"185","messageId":"186","endLine":4,"endColumn":15},{"ruleId":"183","severity":1,"message":"200","line":4,"column":17,"nodeType":"185","messageId":"186","endLine":4,"endColumn":25},{"ruleId":"183","severity":1,"message":"201","line":10,"column":23,"nodeType":"185","messageId":"186","endLine":10,"endColumn":37},{"ruleId":"183","severity":1,"message":"202","line":12,"column":10,"nodeType":"185","messageId":"186","endLine":12,"endColumn":17},{"ruleId":"183","severity":1,"message":"203","line":35,"column":9,"nodeType":"185","messageId":"186","endLine":35,"endColumn":33},{"ruleId":"183","severity":1,"message":"204","line":2,"column":10,"nodeType":"185","messageId":"186","endLine":2,"endColumn":14},"no-unused-vars","'configureStore' is defined but never used.","Identifier","unusedVar","'removeFromCart' is defined but never used.","'paymentSuccess' is assigned a value but never used.","'handleAddToCart' is assigned a value but never used.","'config' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'Token' and 'UserId._id'. Either include them or remove the dependency array.","ArrayExpression",["205"],"React Hook useEffect has a missing dependency: 'userInfo'. Either include it or remove the dependency array.",["206"],"'userAvatar' is assigned a value but never used.","'defaultAvatarSvg' is assigned a value but never used.","'IoEye' is defined but never used.","'IoEyeOff' is defined but never used.","'setNewPassword' is assigned a value but never used.","'message' is assigned a value but never used.","'togglePasswordVisibility' is assigned a value but never used.","'Link' is defined but never used.",{"desc":"207","fix":"208"},{"desc":"209","fix":"210"},"Update the dependencies array to be: [Token, UserId._id]",{"range":"211","text":"212"},"Update the dependencies array to be: [userInfo, userInfo.email]",{"range":"213","text":"214"},[1904,1906],"[Token, UserId._id]",[2163,2179],"[userInfo, userInfo.email]"]